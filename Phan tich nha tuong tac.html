<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√°o c√°o T∆∞∆°ng t√°c: Th·ªã tr∆∞·ªùng Chung c∆∞ 3 Ph√≤ng ng·ªß H√† N·ªôi 2024-2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Lexend', sans-serif;
            background-color: #F8F5F2;
            color: #3A3A3A;
        }
        .chart-container {
            position: relative;
            width: 100%;
            height: 350px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 450px;
            }
        }
        .nav-button {
            transition: all 0.3s ease;
        }
        .nav-button.active {
            background-color: #4A6D88;
            color: #FFFFFF;
            box-shadow: 0 4px 14px 0 rgba(74, 109, 136, 0.39);
        }
        .text-accent {
            color: #A8763E;
        }
        .bg-accent {
             background-color: #A8763E;
        }
        .border-accent {
            border-color: #A8763E;
        }
        .bg-primary {
            background-color: #4A6D88;
        }
        .text-primary {
            color: #4A6D88;
        }
        .border-primary {
             border-color: #4A6D88;
        }
        .factor-card {
            border: 1px solid #e5e7eb;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .factor-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
    </style>
</head>
<body class="antialiased">

    <nav class="bg-[#F8F5F2]/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <span class="text-xl font-bold text-primary">B√°o c√°o Th·ªã tr∆∞·ªùng BƒêS</span>
                <div class="hidden md:flex space-x-8">
                    <a href="#overview" class="text-gray-600 hover:text-primary transition">T·ªïng Quan</a>
                    <a href="#explorer" class="text-gray-600 hover:text-primary transition">Kh√°m Ph√° Qu·∫≠n</a>
                    <a href="#drivers" class="text-gray-600 hover:text-primary transition">Y·∫øu T·ªë C·ªët L√µi</a>
                    <a href="#recommendations" class="text-gray-600 hover:text-primary transition">Khuy·∫øn Ngh·ªã</a>
                </div>
            </div>
        </div>
    </nav>

    <main class="container mx-auto px-4 py-8 md:py-12">
        <header class="text-center mb-16">
            <h1 class="text-4xl md:text-5xl font-extrabold text-primary mb-4">Th·ªã tr∆∞·ªùng Chung c∆∞ 3 Ph√≤ng ng·ªß H√† N·ªôi</h1>
            <p class="text-lg md:text-xl text-gray-600">Ph√¢n t√≠ch xu h∆∞·ªõng, gi√° c·∫£ v√† c√°c y·∫øu t·ªë ·∫£nh h∆∞·ªüng giai ƒëo·∫°n 2024-2025</p>
        </header>

        <section id="overview" class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-2 text-primary">B·ª©c Tranh To√†n C·∫£nh</h2>
            <p class="text-center text-gray-500 mb-10">T·ª´ nh·ªØng k·ª∑ l·ª•c v·ªÅ gi√° trong nƒÉm 2024 ƒë·∫øn giai ƒëo·∫°n ·ªïn ƒë·ªãnh v√† d·ªãch chuy·ªÉn trong nƒÉm 2025.</p>
            
            <div class="bg-white rounded-xl shadow-lg p-6 md:p-8">
                <div class="flex justify-center mb-8">
                    <div class="inline-flex rounded-lg shadow-sm">
                        <button id="btn-2024" class="nav-button active px-6 py-3 text-lg font-semibold rounded-l-lg focus:outline-none">NƒÉm 2024</button>
                        <button id="btn-2025" class="nav-button px-6 py-3 text-lg font-semibold rounded-r-lg bg-gray-200 text-gray-700 focus:outline-none">NƒÉm 2025</button>
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div id="dashboard-text-content" class="text-gray-700 space-y-4">
                    </div>
                    <div class="chart-container h-[300px] md:h-[400px]">
                        <canvas id="marketDashboardChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="explorer" class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-2 text-primary">Kh√°m Ph√° Th·ªã Tr∆∞·ªùng Theo Qu·∫≠n</h2>
            <p class="text-center text-gray-500 mb-10">Ch·ªçn m·ªôt qu·∫≠n ƒë·ªÉ xem ph√¢n t√≠ch chi ti·∫øt v·ªÅ gi√° c·∫£ v√† c√°c d·ª± √°n n·ªïi b·∫≠t.</p>

            <div class="bg-white rounded-xl shadow-lg">
                <div class="grid grid-cols-1 md:grid-cols-4">
                    <div class="md:col-span-1 border-r border-gray-200 p-6">
                        <h3 class="font-bold text-lg mb-4">Ch·ªçn Qu·∫≠n</h3>
                        <div id="district-selector" class="space-y-2">
                        </div>
                    </div>
                    <div id="district-details" class="md:col-span-3 p-6 md:p-8">
                    </div>
                </div>
            </div>
        </section>

        <section id="drivers" class="mb-20">
            <h2 class="text-3xl font-bold text-center mb-2 text-primary">Y·∫øu T·ªë C·ªët L√µi ƒê·ªãnh H√¨nh Gi√°</h2>
            <p class="text-center text-gray-500 mb-10">Gi√° tr·ªã m·ªôt cƒÉn h·ªô ƒë∆∞·ª£c quy·∫øt ƒë·ªãnh b·ªüi s·ª± k·∫øt h·ª£p c·ªßa nhi·ªÅu y·∫øu t·ªë then ch·ªët.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6">
                <div class="factor-card bg-white rounded-xl p-6 text-center lg:col-span-1">
                    <div class="text-4xl mb-3">üìç</div>
                    <h4 class="font-bold text-lg">V·ªã tr√≠</h4>
                    <p class="text-sm text-gray-600 mt-1">Y·∫øu t·ªë quan tr·ªçng nh·∫•t, quy·∫øt ƒë·ªãnh ƒë·∫øn 50% gi√° tr·ªã. V·ªã tr√≠ trung t√¢m, h·∫° t·∫ßng ƒë·ªìng b·ªô lu√¥n c√≥ gi√° cao v∆∞·ª£t tr·ªôi.</p>
                </div>
                 <div class="factor-card bg-white rounded-xl p-6 text-center lg:col-span-1">
                    <div class="text-4xl mb-3">‚öñÔ∏è</div>
                    <h4 class="font-bold text-lg">Ph√°p l√Ω & CƒêT</h4>
                    <p class="text-sm text-gray-600 mt-1">S·ª± minh b·∫°ch ph√°p l√Ω v√† uy t√≠n ch·ªß ƒë·∫ßu t∆∞ l√† "b·∫£o ch·ª©ng" cho ch·∫•t l∆∞·ª£ng v√† ti·ªÅm nƒÉng tƒÉng gi√°.</p>
                </div>
                <div class="factor-card bg-white rounded-xl p-6 text-center lg:col-span-1">
                    <div class="text-4xl mb-3">üèä‚Äç‚ôÇÔ∏è</div>
                    <h4 class="font-bold text-lg">Ti·ªán √≠ch</h4>
                    <p class="text-sm text-gray-600 mt-1">H·ªá sinh th√°i ti·ªán √≠ch (b·ªÉ b∆°i, c√¥ng vi√™n, TTTM) g√≥p ph·∫ßn ƒë·ªãnh h√¨nh m·ªôt m·ª©c gi√° cao h∆°n.</p>
                </div>
                 <div class="factor-card bg-white rounded-xl p-6 text-center lg:col-span-1">
                    <div class="text-4xl mb-3">üåá</div>
                    <h4 class="font-bold text-lg">H∆∞·ªõng & T·∫ßng</h4>
                    <p class="text-sm text-gray-600 mt-1">C√°c cƒÉn g√≥c, t·∫ßng trung, h∆∞·ªõng m√°t v√† c√≥ t·∫ßm nh√¨n ƒë·∫πp lu√¥n ƒë∆∞·ª£c sƒÉn ƒë√≥n v√† c√≥ gi√° cao h∆°n.</p>
                </div>
                 <div class="factor-card bg-white rounded-xl p-6 text-center lg:col-span-1">
                    <div class="text-4xl mb-3">üè¶</div>
                    <h4 class="font-bold text-lg">Ch√≠nh s√°ch TC</h4>
                    <p class="text-sm text-gray-600 mt-1">L√£i su·∫•t cho vay v√† c√°c ch√≠nh s√°ch t·ª´ ng√¢n h√†ng ·∫£nh h∆∞·ªüng l·ªõn ƒë·∫øn thanh kho·∫£n th·ªã tr∆∞·ªùng.</p>
                </div>
            </div>
        </section>

        <section id="recommendations">
            <h2 class="text-3xl font-bold text-center mb-2 text-primary">G√≥c Nh√¨n Chuy√™n Gia</h2>
             <p class="text-center text-gray-500 mb-10">D·ª±a tr√™n ph√¢n t√≠ch th·ªã tr∆∞·ªùng, ƒë√¢y l√† nh·ªØng khuy·∫øn ngh·ªã d√†nh cho b·∫°n.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-white rounded-xl shadow-lg p-8">
                    <h3 class="font-bold text-xl mb-4 flex items-center"><span class="text-3xl mr-3">üè†</span> D√†nh cho Ng∆∞·ªùi mua ·ªü th·ª±c</h3>
                    <ul class="space-y-3 list-disc list-inside text-gray-700">
                        <li><strong>Nghi√™n c·ª©u k·ªπ l∆∞·ª°ng:</strong> ƒê√°nh gi√° to√†n di·ªán v·ªÅ v·ªã tr√≠, ph√°p l√Ω, v√† uy t√≠n ch·ªß ƒë·∫ßu t∆∞ tr∆∞·ªõc khi ra quy·∫øt ƒë·ªãnh.</li>
                        <li><strong>M·ªü r·ªông t·∫ßm nh√¨n:</strong> C√¢n nh·∫Øc c√°c khu v·ª±c v√πng ven ƒëang ph√°t tri·ªÉn m·∫°nh v·ªÅ h·∫° t·∫ßng ƒë·ªÉ c√≥ m·ª©c gi√° t·ªët h∆°n.</li>
                        <li><strong>Ki√™n nh·∫´n ch·ªù ƒë·ª£i:</strong> Theo d√µi th·ªã tr∆∞·ªùng ƒë·ªÉ n·∫Øm b·∫Øt c∆° h·ªôi t·ª´ c√°c ngu·ªìn cung m·ªõi v√† c√°c ƒë·ª£t ƒëi·ªÅu ch·ªânh gi√°.</li>
                    </ul>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-8">
                     <h3 class="font-bold text-xl mb-4 flex items-center"><span class="text-3xl mr-3">üìà</span> D√†nh cho Nh√† ƒë·∫ßu t∆∞</h3>
                    <ul class="space-y-3 list-disc list-inside text-gray-700">
                        <li><strong>T·∫≠p trung d√†i h·∫°n:</strong> Giai ƒëo·∫°n "l∆∞·ªõt s√≥ng" ƒë√£ qua, h√£y ∆∞u ti√™n c√°c d·ª± √°n c√≥ ti·ªÅm nƒÉng tƒÉng gi√° b·ªÅn v·ªØng.</li>
                        <li><strong>Ch·ªçn d·ª± √°n chi·∫øn l∆∞·ª£c:</strong> ∆Øu ti√™n c√°c ƒë·∫°i ƒë√¥ th·ªã c√≥ quy ho·∫°ch ƒë·ªìng b·ªô, ti·ªán √≠ch ƒë·∫ßy ƒë·ªß v√† kh·∫£ nƒÉng cho thu√™ cao.</li>
                        <li><strong>ƒê√°nh gi√° thanh kho·∫£n:</strong> Trong b·ªëi c·∫£nh giao d·ªãch c√≥ th·ªÉ ch·∫≠m l·∫°i, c·∫ßn c√¢n nh·∫Øc k·ªπ kh·∫£ nƒÉng b√°n l·∫°i c·ªßa t√†i s·∫£n.</li>
                    </ul>
                </div>
            </div>
        </section>

    </main>

    <footer class="mt-20 py-8 bg-gray-800 text-white">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2025 B√°o c√°o Ph√¢n t√≠ch Th·ªã tr∆∞·ªùng B·∫•t ƒë·ªông s·∫£n. </p>
            <p class="text-sm text-gray-400 mt-1">Th√¥ng tin ƒë∆∞·ª£c t·ªïng h·ª£p v√† ph√¢n t√≠ch t·ª´ c√°c ngu·ªìn d·ªØ li·ªáu th·ªã tr∆∞·ªùng ƒë√°ng tin c·∫≠y.</p>
        </div>
    </footer>
    
    <script>
        const marketData = {
            '2024': {
                textContent: `
                    <h3 class="text-2xl font-bold mb-4 text-primary">NƒÉm c·ªßa nh·ªØng k·ª∑ l·ª•c gi√°</h3>
                    <p class="mb-4">Th·ªã tr∆∞·ªùng 2024 ch·ª©ng ki·∫øn s·ª± tƒÉng tr∆∞·ªüng gi√° ƒë·ªôt bi·∫øn, ƒë∆∞·ª£c th√∫c ƒë·∫©y b·ªüi nhu c·∫ßu ·ªü th·ª±c r·∫•t l·ªõn trong khi ngu·ªìn cung l·∫°i v√¥ c√πng khan hi·∫øm. ƒêi·ªÅu n√†y ƒë√£ thi·∫øt l·∫≠p m·ªôt m·∫∑t b·∫±ng gi√° m·ªõi, cao ch∆∞a t·ª´ng c√≥.</p>
                    <ul class="list-disc list-inside space-y-2">
                        <li>Gi√° s∆° c·∫•p trung b√¨nh ƒë·∫°t <strong class="text-accent">76,7 tri·ªáu/m¬≤</strong>, tƒÉng <strong class="text-accent">54%</strong> so v·ªõi c√πng k·ª≥.</li>
                        <li>C√°c cƒÉn h·ªô d∆∞·ªõi 40 tri·ªáu/m¬≤ g·∫ßn nh∆∞ bi·∫øn m·∫•t kh·ªèi th·ªã tr∆∞·ªùng.</li>
                        <li>T·ª∑ l·ªá h·∫•p th·ª• v·∫´n cao (40-60%) d√π gi√° tƒÉng m·∫°nh, cho th·∫•y l·ª±c c·∫ßu r·∫•t l·ªõn.</li>
                    </ul>
                `,
                chartData: {
                    labels: ['Gi√° S∆° c·∫•p (tr/m¬≤)', 'Ngu·ªìn Cung (cƒÉn)', 'Giao d·ªãch (cƒÉn)'],
                    values: [76.7, 11168, 11200]
                }
            },
            '2025': {
                textContent: `
                    <h3 class="text-2xl font-bold mb-4 text-primary">Giai ƒëo·∫°n ·ªïn ƒë·ªãnh & d·ªãch chuy·ªÉn</h3>
                    <p class="mb-4">B∆∞·ªõc sang 2025, t·ªëc ƒë·ªô tƒÉng gi√° ƒë∆∞·ª£c d·ª± b√°o s·∫Ω ch·∫≠m l·∫°i, th·ªã tr∆∞·ªùng chuy·ªÉn sang tr·∫°ng th√°i ·ªïn ƒë·ªãnh h∆°n. Ng∆∞·ªùi mua ·ªü th·ª±c tr·ªü th√†nh l·ª±c c·∫ßu ch·ªß ƒë·∫°o, nh∆∞ng c√≥ t√¢m l√Ω th·∫≠n tr·ªçng v√† ch·ªù ƒë·ª£i nhi·ªÅu h∆°n.</p>
                    <ul class="list-disc list-inside space-y-2">
                        <li>D·ª± b√°o tƒÉng tr∆∞·ªüng gi√° ch·∫≠m l·∫°i, ·ªü m·ª©c <strong class="text-accent">5-8%</strong>.</li>
                        <li>Ngu·ªìn cung m·ªõi d·ª± ki·∫øn c·∫£i thi·ªán, c√≥ th·ªÉ ƒë·∫°t tr√™n <strong class="text-accent">30.000 cƒÉn</strong>, gi√∫p gi·∫£m √°p l·ª±c.</li>
                        <li>Nh√† ƒë·∫ßu t∆∞ l∆∞·ªõt s√≥ng g·∫ßn nh∆∞ v·∫Øng b√≥ng, th·ªã tr∆∞·ªùng t·∫≠p trung v√†o gi√° tr·ªã s·ª≠ d·ª•ng th·ª±c.</li>
                    </ul>
                `,
                chartData: {
                    labels: ['Gi√° S∆° c·∫•p (tr/m¬≤)', 'Ngu·ªìn Cung (cƒÉn)', 'Giao d·ªãch (cƒÉn)'],
                    values: [76.7 * 1.065, 30000, 7914] // Using avg 6.5% increase for price
                }
            }
        };

        const districtData = {
            'hoang-mai': {
                name: 'Qu·∫≠n Ho√†ng Mai',
                priceRange: [35.3, 106.8],
                analysis: 'L√† c·ª≠a ng√µ ph√≠a Nam, Ho√†ng Mai c√≥ m·ª©c gi√° dao ƒë·ªông r·∫•t r·ªông, ph·∫£n √°nh s·ª± ph√°t tri·ªÉn h·∫° t·∫ßng nhanh ch√≥ng v√† s·ª± hi·ªán di·ªán c·ªßa c√°c ƒë·∫°i ƒë√¥ th·ªã. M·ª©c tƒÉng gi√° t·∫°i ƒë√¢y thu·ªôc top ƒë·∫ßu th√†nh ph·ªë, thu h√∫t ng∆∞·ªùi mua t√¨m ki·∫øm kh√¥ng gian r·ªông r√£i v·ªõi gi√° h·ª£p l√Ω h∆°n n·ªôi ƒë√¥.',
                projects: ['Gamuda Gardens (The Zen, The Two)', 'Feliz Homes', 'Sunshine Palace', 'Eco Lake View']
            },
            'thanh-xuan': {
                name: 'Qu·∫≠n Thanh Xu√¢n',
                priceRange: [52.1, 84.5],
                analysis: 'Thanh Xu√¢n c√≥ s·ª± ph√¢n h√≥a gi√° m·∫°nh m·∫Ω gi·ªØa c√°c chung c∆∞ c≈© v√† c√°c d·ª± √°n cao c·∫•p m·ªõi. C√°c cƒÉn 3PN hi·ªán ƒë·∫°i th∆∞·ªùng c√≥ gi√° cao h∆°n ƒë√°ng k·ªÉ so v·ªõi m·∫∑t b·∫±ng chung, cho th·∫•y nhu c·∫ßu l·ªõn ƒë·ªëi v·ªõi c√°c s·∫£n ph·∫©m ch·∫•t l∆∞·ª£ng t·∫°i khu v·ª±c c√≥ v·ªã tr√≠ thu·∫≠n l·ª£i n√†y.',
                 projects: ['Pandora 53 Tri·ªÅu Kh√∫c', 'D·ª± √°n t·∫°i Ho√†ng VƒÉn Th√°i', 'D·ª± √°n t·∫°i Kh∆∞∆°ng Trung']
            },
            'hai-ba-trung': {
                name: 'Qu·∫≠n Hai B√† Tr∆∞ng',
                priceRange: [45.1, 211.1],
                analysis: 'L√† qu·∫≠n trung t√¢m, Hai B√† Tr∆∞ng c√≥ kho·∫£ng gi√° r·ªông nh·∫•t, t·ª´ c√°c khu t·∫≠p th·ªÉ c≈© ƒë·∫øn c√°c d·ª± √°n h·∫°ng sang. S·ª©c h√∫t ƒë·∫øn t·ª´ v·ªã tr√≠ ƒë·∫Øc ƒë·ªãa v√† h·ªá th·ªëng ti·ªán √≠ch ƒë·ªìng b·ªô, khi·∫øn gi√° tr·ªã b·∫•t ƒë·ªông s·∫£n lu√¥n duy tr√¨ ·ªü m·ª©c r·∫•t cao.',
                 projects: ['Times City - Park Hill', 'Imperia Sky Garden', 'Hinode City']
            },
            'ha-dong': {
                name: 'Qu·∫≠n H√† ƒê√¥ng',
                priceRange: [50, 65],
                analysis: 'C·ª≠a ng√µ ph√≠a T√¢y Nam n√†y ƒëang c√≥ xu h∆∞·ªõng tƒÉng gi√° r√µ r·ªát. Gi√° chung c∆∞ c≈© ƒë√£ v∆∞·ª£t 50 tri·ªáu/m¬≤, trong khi c√°c d·ª± √°n m·ªõi c√≥ gi√° tr√™n 60 tri·ªáu/m¬≤. S·ª± c·∫£i thi·ªán h·∫° t·∫ßng ƒëang bi·∫øn H√† ƒê√¥ng th√†nh m·ªôt l·ª±a ch·ªçn h·∫•p d·∫´n cho ng∆∞·ªùi mua.',
                 projects: ['GoldSilk Complex', 'C√°c d·ª± √°n d·ªçc tr·ª•c T·ªë H·ªØu, L√™ VƒÉn L∆∞∆°ng']
            }
        };

        let marketDashboardChart;
        let districtPriceChart;
        
        const wrapLabel = (label, maxLength) => {
            if (typeof label !== 'string' || label.length <= maxLength) {
                return label;
            }
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + word).length > maxLength) {
                    lines.push(currentLine.trim());
                    currentLine = '';
                }
                currentLine += word + ' ';
            }
            lines.push(currentLine.trim());
            return lines;
        };
        
        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            return Array.isArray(label) ? label.join(' ') : label;
        };

        const commonChartOptions = (additionalOptions = {}) => ({
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: false,
                },
                tooltip: {
                    enabled: true,
                    backgroundColor: 'rgba(0,0,0,0.8)',
                    titleFont: { size: 14, family: 'Lexend' },
                    bodyFont: { size: 12, family: 'Lexend' },
                    padding: 10,
                    callbacks: { title: tooltipTitleCallback }
                }
            },
            scales: {
                y: { beginAtZero: true, ticks: { color: '#6b7280', font: { family: 'Lexend' } }, grid: { color: '#e5e7eb' } },
                x: { ticks: { color: '#6b7280', font: { family: 'Lexend' } }, grid: { display: false } }
            },
            ...additionalOptions
        });
        
        function updateDashboard(year) {
            const data = marketData[year];
            document.getElementById('dashboard-text-content').innerHTML = data.textContent;

            const chartCtx = document.getElementById('marketDashboardChart').getContext('2d');
            if (marketDashboardChart) {
                marketDashboardChart.destroy();
            }
            marketDashboardChart = new Chart(chartCtx, {
                type: 'bar',
                data: {
                    labels: data.chartData.labels,
                    datasets: [{
                        label: `D·ªØ li·ªáu nƒÉm ${year}`,
                        data: data.chartData.values,
                        backgroundColor: ['#4A6D88', '#A8763E', '#607d8b'],
                        borderRadius: 6,
                    }]
                },
                options: commonChartOptions({
                     indexAxis: 'y',
                     scales: {
                         y: { ...commonChartOptions().scales.y, grid: { display: false } },
                         x: { ...commonChartOptions().scales.x }
                     }
                })
            });
        }

        function createDistrictSelector() {
            const selectorContainer = document.getElementById('district-selector');
            selectorContainer.innerHTML = '';
            Object.keys(districtData).forEach((key, index) => {
                const district = districtData[key];
                const button = document.createElement('button');
                button.textContent = district.name;
                button.className = `w-full text-left px-4 py-3 rounded-lg transition-colors duration-200 ${index === 0 ? 'bg-primary/10 text-primary font-semibold' : 'hover:bg-gray-100'}`;
                button.dataset.key = key;
                button.onclick = () => {
                    document.querySelectorAll('#district-selector button').forEach(btn => {
                        btn.classList.remove('bg-primary/10', 'text-primary', 'font-semibold');
                        btn.classList.add('hover:bg-gray-100');
                    });
                    button.classList.add('bg-primary/10', 'text-primary', 'font-semibold');
                    button.classList.remove('hover:bg-gray-100');
                    updateDistrictDetails(key);
                };
                selectorContainer.appendChild(button);
            });
        }

        function updateDistrictDetails(key) {
            const data = districtData[key];
            const detailsContainer = document.getElementById('district-details');
            
            const projectsHtml = data.projects.map(p => `<span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">${p}</span>`).join('');

            detailsContainer.innerHTML = `
                <h3 class="text-2xl font-bold mb-1 text-primary">${data.name}</h3>
                <p class="text-gray-600 mb-6">${data.analysis}</p>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div>
                         <h4 class="font-bold text-lg mb-3">Kho·∫£ng gi√° tham kh·∫£o (3PN)</h4>
                         <div class="chart-container h-[250px]">
                            <canvas id="districtPriceChart"></canvas>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-bold text-lg mb-3">D·ª± √°n ti√™u bi·ªÉu</h4>
                        <div class="flex flex-wrap">${projectsHtml}</div>
                    </div>
                </div>
            `;
            
            const chartCtx = document.getElementById('districtPriceChart').getContext('2d');
            if (districtPriceChart) {
                districtPriceChart.destroy();
            }
            districtPriceChart = new Chart(chartCtx, {
                type: 'bar',
                data: {
                    labels: ['Gi√° t·ªëi thi·ªÉu', 'Gi√° t·ªëi ƒëa'],
                    datasets: [{
                        label: 'Tri·ªáu VNƒê/m¬≤',
                        data: data.priceRange,
                        backgroundColor: ['#A8763E', '#4A6D88'],
                        borderRadius: 4,
                        barPercentage: 0.6
                    }]
                },
                options: commonChartOptions({
                    indexAxis: 'y',
                    scales: {
                         y: { ...commonChartOptions().scales.y, grid: { display: false } },
                         x: { ...commonChartOptions().scales.x, ticks: { callback: value => `${value}tr` } }
                     }
                })
            });
        }


        window.onload = function() {
            const btn2024 = document.getElementById('btn-2024');
            const btn2025 = document.getElementById('btn-2025');

            btn2024.addEventListener('click', () => {
                btn2024.classList.add('active');
                btn2024.classList.remove('bg-gray-200', 'text-gray-700');
                btn2025.classList.remove('active');
                btn2025.classList.add('bg-gray-200', 'text-gray-700');
                updateDashboard('2024');
            });

            btn2025.addEventListener('click', () => {
                btn2025.classList.add('active');
                btn2025.classList.remove('bg-gray-200', 'text-gray-700');
                btn2024.classList.remove('active');
                btn2024.classList.add('bg-gray-200', 'text-gray-700');
                updateDashboard('2025');
            });
            
            updateDashboard('2024');
            createDistrictSelector();
            updateDistrictDetails('hoang-mai');
        };
    </script>
</body>
</html>

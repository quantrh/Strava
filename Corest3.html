<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bảng điều khiển Theo dõi Tiến độ Dự án Core Banking Myanmar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .tab-active {
            border-bottom-color: #2563eb;
            color: #2563eb;
            font-weight: 600;
        }
        .tab-inactive {
            border-bottom-color: transparent;
            color: #6b7280;
        }
        .progress-bar-bg {
            background-color: #e5e7eb;
        }
        .progress-bar-fill {
            background-color: #3b82f6;
        }
        .status-green { background-color: #dcfce7; color: #166534; }
        .status-amber { background-color: #fef3c7; color: #92400e; }
        .status-red { background-color: #fee2e2; color: #991b1b; }
        .kpi-card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .subtask-container {
            transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out;
            max-height: 0;
            opacity: 0;
            overflow: hidden;
        }
        .subtask-container.expanded {
            max-height: 500px; /* Adjust as needed */
            opacity: 1;
        }
        /* Hide scrollbar for tabs on mobile */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-7xl mx-auto bg-white rounded-2xl shadow-lg p-4 sm:p-6 md:p-8">
        <!-- Header -->
        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 border-b pb-4 gap-4">
            <div>
                <h1 class="text-xl sm:text-2xl md:text-3xl font-bold text-gray-800" data-key="mainTitle">Bảng điều khiển Tiến độ Dự án Core Banking Myanmar</h1>
                <p class="text-gray-500 mt-1 text-sm" data-key="updateDate">Cập nhật đến ngày: 19/08/2025</p>
            </div>
            <div class="flex items-center gap-4">
                <div class="text-center sm:text-right">
                    <p class="text-base font-semibold text-gray-700" data-key="goLiveLabel">Go-Live Giai đoạn 1</p>
                    <p class="text-lg font-bold text-blue-600">21/09/2025</p>
                </div>
                <!-- Language Toggle -->
                <div class="flex items-center border rounded-full p-1 bg-gray-100">
                    <button id="lang-vi" class="px-3 py-1 text-sm font-semibold rounded-full bg-white text-blue-600 shadow" onclick="changeLanguage('vi')">VI</button>
                    <button id="lang-en" class="px-3 py-1 text-sm font-semibold rounded-full text-gray-500" onclick="changeLanguage('en')">EN</button>
                </div>
            </div>
        </div>

        <!-- Overall Progress -->
        <div class="mb-8">
            <h2 class="text-xl font-semibold text-gray-700 mb-3" data-key="overallProgressTitle">Tổng quan tiến độ đến Go-Live</h2>
            <div class="relative pt-1">
                <div class="flex mb-2 items-center justify-between">
                    <div>
                        <span class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200" data-key="pilotStatus">
                            Đang thực hiện Pilot
                        </span>
                    </div>
                    <div class="text-right">
                        <span id="overall-progress-text" class="text-xs font-semibold inline-block text-blue-600">
                            90%
                        </span>
                    </div>
                </div>
                <div class="overflow-hidden h-4 mb-4 text-xs flex rounded-full bg-blue-100">
                    <div id="overall-progress-bar" style="width: 90%" class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500 transition-all duration-500"></div>
                </div>
            </div>
        </div>

        <!-- Main Content with Tabs -->
        <div>
            <div class="border-b border-gray-200">
                <nav class="-mb-px flex space-x-6 overflow-x-auto no-scrollbar" aria-label="Tabs">
                    <button id="tab-tong-quan" class="tab-btn whitespace-nowrap py-3 px-1 border-b-2 text-sm tab-active" onclick="changeTab('tong-quan')" data-key="tabOverview">Tổng Quan</button>
                    <button id="tab-core-banking" class="tab-btn whitespace-nowrap py-3 px-1 border-b-2 text-sm tab-inactive" onclick="changeTab('core-banking')" data-key="tabCoreBanking">Core Banking</button>
                    <button id="tab-trade-finance" class="tab-btn whitespace-nowrap py-3 px-1 border-b-2 text-sm tab-inactive" onclick="changeTab('trade-finance')" data-key="tabTradeFinance">Trade Finance</button>
                    <button id="tab-quantum" class="tab-btn whitespace-nowrap py-3 px-1 border-b-2 text-sm tab-inactive" onclick="changeTab('quantum')" data-key="tabQuantum">Quantum (Treasury)</button>
                    <button id="tab-checklist" class="tab-btn whitespace-nowrap py-3 px-1 border-b-2 text-sm tab-inactive" onclick="changeTab('checklist')" data-key="tabChecklist">Checklist Go-Live</button>
                </nav>
            </div>

            <!-- Tab Content -->
            <div id="tab-content" class="mt-6">
                <!-- All tab content will be dynamically generated by JS -->
            </div>
        </div>
    </div>

    <script>
        // --- DATA STORE ---
        const content = {
            vi: {
                mainTitle: "Bảng điều khiển Tiến độ Dự án Core Banking Myanmar",
                updateDate: "Cập nhật đến ngày: 19/08/2025",
                goLiveLabel: "Go-Live Giai đoạn 1",
                overallProgressTitle: "Tổng quan tiến độ đến Go-Live",
                pilotStatus: "Đang thực hiện Pilot",
                tabOverview: "Tổng Quan",
                tabCoreBanking: "Core Banking",
                tabTradeFinance: "Trade Finance",
                tabQuantum: "Quantum (Treasury)",
                tabChecklist: "Checklist Go-Live",
                // Overview Tab
                statusCardTitle: "Trạng thái chung",
                statusCardValue: "On Track",
                statusCardNote: "Các hạng mục chính đang đi đúng tiến độ.",
                scheduleCardTitle: "Tiến độ",
                scheduleCardValue: "Đúng kế hoạch",
                scheduleCardNote: "Hoàn thành UAT1, đang thực hiện Pilot.",
                riskCardTitle: "Rủi ro",
                riskCardValue: "Có rủi ro",
                riskCardNote: "Tốc độ giao dịch trên môi trường Pilot chậm.",
                scopeCardTitle: "Phạm vi",
                scopeCardValue: "Đã chốt",
                scopeCardNote: "Phạm vi GĐ1 đã được thống nhất và ký kết.",
                timelineTitle: "Dòng thời gian dự án (Các giai đoạn chính)",
                timeline: [
                    { title: "Khởi tạo & Phân tích yêu cầu", date: "Tháng 4 - Tháng 7, 2025 (Hoàn thành)", status: "done" },
                    { title: "Xây dựng & Kiểm thử (SIT/UAT1)", date: "Tháng 4 - 08/08/2025 (Hoàn thành)", status: "done" },
                    { title: "Pilot hệ thống", date: "13/08 - 19/08/2025 (Đang thực hiện)", status: "inprogress" },
                    { title: "Diễn tập (Dress Rehearsal)", date: "22/08 - 06/09/2025", status: "todo" },
                    { title: "Diễn tập DRP (Dự phòng thảm họa)", date: "12/09 - 16/09/2025", status: "todo" },
                    { title: "Go-Live Giai đoạn 1", date: "20-21/09/2025", status: "todo" }
                ],
                // Core Banking Tab
                cbUatCasesTitle: "Test cases UAT",
                cbUatCasesPassed: "Passed",
                cbUatCasesFailed: "Failed",
                cbDefectsTitle: "Defects UAT (Core)",
                cbDefectsDone: "Done",
                cbDefectsOpen: "Open",
                cbConfigTitle: "Cấu hình tham số",
                cbConfigNote: "{val}/917 bảng đã hoàn thành",
                integrationTitle: "Tiến độ các ứng dụng tích hợp",
                integrationTableHeaders: ["Ứng dụng", "Trạng thái", "% UAT1", "Ghi chú"],
                // Trade Finance Tab
                tfAnalysisTitle: "Phân tích yêu cầu",
                tfAnalysisValue: "100% Hoàn thành",
                tfAnalysisNote: "Đã ký 8 FSDs và toàn bộ User Stories.",
                tfBuildTitle: "Build & Development",
                tfBuildValue: "Sprint 5 In Progress",
                tfBuildNote: "Sprint 4 đã hoàn thành.",
                tfDefectsTitle: "Defects UAT (TF)",
                tfDefectsValue: "70 cần xử lý",
                tfDefectsNote: "06 lỗi cần fix trước Go-live, 64 lỗi sau Go-live.",
                // Quantum Tab
                qtDesignBookTitle: "Design Book",
                qtDesignBookValue: "100% Hoàn thành",
                qtDesignBookNote: "Đã ký tài liệu Design Book.",
                qtBuildTitle: "Build & Development",
                qtBuildValue: "Sprint 3 In Progress",
                qtBuildNote: "Sprint 2 đã hoàn thành.",
                qtSitUatTitle: "SIT / UAT",
                qtSitUatValue: "Sắp diễn ra",
                qtSitUatNote: "SIT: 29/09, UAT: 20/10.",
                // Checklist Tab
                checklistTitle: "Các hạng mục quan trọng trước Go-Live",
                checklistDeadline: "Hạn",
                status: { done: "Hoàn thành", inprogress: "Đang làm", todo: "Chưa làm" }
            },
            en: {
                mainTitle: "Core Banking Myanmar Project Dashboard",
                updateDate: "Last updated: August 19, 2025",
                goLiveLabel: "Go-Live Phase 1",
                overallProgressTitle: "Overall Progress to Go-Live",
                pilotStatus: "Pilot In Progress",
                tabOverview: "Overview",
                tabCoreBanking: "Core Banking",
                tabTradeFinance: "Trade Finance",
                tabQuantum: "Quantum (Treasury)",
                tabChecklist: "Go-Live Checklist",
                // Overview Tab
                statusCardTitle: "Overall Status",
                statusCardValue: "On Track",
                statusCardNote: "Main workstreams are on schedule.",
                scheduleCardTitle: "Schedule",
                scheduleCardValue: "On Schedule",
                scheduleCardNote: "UAT1 completed, Pilot in progress.",
                riskCardTitle: "Risks",
                riskCardValue: "Risks identified",
                riskCardNote: "Slow transaction speed on Pilot environment.",
                scopeCardTitle: "Scope",
                scopeCardValue: "Finalized",
                scopeCardNote: "Phase 1 scope has been agreed upon and signed.",
                timelineTitle: "Project Timeline (Main Phases)",
                 timeline: [
                    { title: "Initiation & Requirement Analysis", date: "Apr - Jul, 2025 (Completed)", status: "done" },
                    { title: "Build & Testing (SIT/UAT1)", date: "Apr - Aug 08, 2025 (Completed)", status: "done" },
                    { title: "System Pilot", date: "Aug 13 - Aug 19, 2025 (In Progress)", status: "inprogress" },
                    { title: "Dress Rehearsal", date: "Aug 22 - Sep 06, 2025", status: "todo" },
                    { title: "DRP Drill (Disaster Recovery Plan)", date: "Sep 12 - Sep 16, 2025", status: "todo" },
                    { title: "Go-Live Phase 1", date: "Sep 20-21, 2025", status: "todo" }
                ],
                // Core Banking Tab
                cbUatCasesTitle: "UAT Test Cases",
                cbUatCasesPassed: "Passed",
                cbUatCasesFailed: "Failed",
                cbDefectsTitle: "UAT Defects (Core)",
                cbDefectsDone: "Done",
                cbDefectsOpen: "Open",
                cbConfigTitle: "Parameter Configuration",
                cbConfigNote: "{val}/917 tables completed",
                integrationTitle: "Integration Applications Progress",
                integrationTableHeaders: ["Application", "Status", "% UAT1", "Note"],
                // Trade Finance Tab
                tfAnalysisTitle: "Requirement Analysis",
                tfAnalysisValue: "100% Completed",
                tfAnalysisNote: "8 FSDs and all User Stories signed off.",
                tfBuildTitle: "Build & Development",
                tfBuildValue: "Sprint 5 In Progress",
                tfBuildNote: "Sprint 4 completed.",
                tfDefectsTitle: "UAT Defects (TF)",
                tfDefectsValue: "70 to be fixed",
                tfDefectsNote: "06 critical bugs pre-Go-live, 64 post-Go-live.",
                // Quantum Tab
                qtDesignBookTitle: "Design Book",
                qtDesignBookValue: "100% Completed",
                qtDesignBookNote: "Design Book document signed off.",
                qtBuildTitle: "Build & Development",
                qtBuildValue: "Sprint 3 In Progress",
                qtBuildNote: "Sprint 2 completed.",
                qtSitUatTitle: "SIT / UAT",
                qtSitUatValue: "Upcoming",
                qtSitUatNote: "SIT: Sep 29, UAT: Oct 20.",
                // Checklist Tab
                checklistTitle: "Key Activities Before Go-Live",
                checklistDeadline: "Due",
                status: { done: "Completed", inprogress: "In Progress", todo: "To Do" }
            }
        };

        const integrationAppsData = {
            vi: [
                { name: 'iBanking', status: 'On Track', uat: 100, note: 'Fixing security issues & bugs' },
                { name: 'CCS', status: 'On Track', uat: 100, note: 'Developing training documents' },
                { name: 'SOA MM', status: 'On Track', uat: 100, note: 'Completed' },
                { name: 'SWIFT GPI', status: 'On Track', uat: 100, note: 'Phase 2 SIT in progress' },
                { name: 'BSMS', status: 'On Track', uat: 100, note: 'Fixing security issues' },
                { name: 'MIS Cognos', status: 'On Track', uat: 100, note: 'DRP document approved' },
                { name: 'SVS', status: 'On Track', uat: 100, note: 'DRP document approved' },
                { name: 'ERP Yangon', status: 'On Track', uat: 100, note: 'Developing user manuals' },
                { name: 'Core-GL-Hub', status: 'On Track', uat: 100, note: 'Developing user manuals' },
                { name: 'iTrans', status: 'On Track', uat: 100, note: 'Completed' },
                { name: 'One Access', status: 'On Track', uat: 100, note: 'Completed' },
                { name: 'CPMS', status: 'On Track', uat: 100, note: 'Completed' }
            ],
            en: [
                { name: 'iBanking', status: 'On Track', uat: 100, note: 'Fixing security issues & bugs' },
                { name: 'CCS', status: 'On Track', uat: 100, note: 'Developing training documents' },
                { name: 'SOA MM', status: 'On Track', uat: 100, note: 'Completed' },
                { name: 'SWIFT GPI', status: 'On Track', uat: 100, note: 'Phase 2 SIT in progress' },
                { name: 'BSMS', status: 'On Track', uat: 100, note: 'Fixing security issues' },
                { name: 'MIS Cognos', status: 'On Track', uat: 100, note: 'DRP document approved' },
                { name: 'SVS', status: 'On Track', uat: 100, note: 'DRP document approved' },
                { name: 'ERP Yangon', status: 'On Track', uat: 100, note: 'Developing user manuals' },
                { name: 'Core-GL-Hub', status: 'On Track', uat: 100, note: 'Developing user manuals' },
                { name: 'iTrans', status: 'On Track', uat: 100, note: 'Completed' },
                { name: 'One Access', status: 'On Track', uat: 100, note: 'Completed' },
                { name: 'CPMS', status: 'On Track', uat: 100, note: 'Completed' }
            ]
        };

        const goLiveChecklistData = {
            vi: [
                { task: 'Hoàn thành Pilot hệ thống', date: '13/08 - 19/08/2025', status: 'done', subtasks: [{ text: 'Nhập 100% giao dịch từ Intellect sang Profile', time: '13/08 - 19/08' }, { text: 'Hệ thống Profile chạy EOD thành công hàng ngày', time: '13/08 - 19/08' }, { text: 'Ghi nhận và bắt đầu xử lý các lỗi phát sinh', time: '13/08 - 19/08' }, { text: 'Hoàn thành đào tạo End User', time: '05/08 - 12/08' }] },
                { task: 'Diễn tập DR1 & DR2 (Dress Rehearsal)', date: '22/08 - 06/09/2025', status: 'inprogress', subtasks: [{ text: 'Chuẩn bị môi trường và dữ liệu cho DR1', time: '19/08 - 21/08' }, { text: 'Thực hiện kịch bản DR1 (Core + 07 App)', time: '22/08 - 23/08' }, { text: 'Báo cáo kết quả DR1 và khắc phục lỗi', time: '24/08 - 04/09' }, { text: 'Thực hiện kịch bản DR2 (Core + 11 App + CCS)', time: '05/09 - 06/09' }, { text: 'Báo cáo kết quả DR2', time: '07/09 - 08/09' }] },
                { task: 'Diễn tập DRP (Dự phòng thảm họa)', date: '12/09 - 16/09/2025', status: 'todo', subtasks: [{ text: 'Xây dựng kế hoạch và tài liệu đào tạo DRP', time: '26/08 - 29/08' }, { text: 'Tổ chức đào tạo DRP cho chi nhánh Yangon', time: '01/09 - 05/09' }, { text: 'Thực hiện diễn tập DRP 1', time: '12/09 - 13/09' }, { text: 'Thực hiện diễn tập DRP 2', time: '15/09 - 16/09' }] },
                { task: 'Hoàn thiện kịch bản Go-Live (Playbook)', date: '20/08 - 30/08/2025', status: 'inprogress', subtasks: [{ text: 'Xây dựng kịch bản chi tiết theo giờ', time: '20/08 - 25/08' }, { text: 'Phân công nhân sự thực hiện', time: '26/08 - 27/08' }, { text: 'Xây dựng phương án xử lý sự cố (fallback plan)', time: '26/08 - 28/08' }, { text: 'Trình duyệt và ban hành kịch bản', time: '29/08 - 30/08' }] },
                { task: 'Khắc phục toàn bộ lỗi nghiêm trọng', date: '19/08 - 15/09/2025', status: 'inprogress', subtasks: [{ text: 'Xử lý 06 lỗi TF nghiêm trọng', time: '19/08 - 10/09' }, { text: 'Xử lý 02 lỗi còn lại của các ứng dụng tích hợp', time: '19/08 - 05/09' }, { text: 'Xử lý các lỗi bảo mật mức cao/trung bình', time: '19/08 - 10/09' }, { text: 'Kiểm thử lại (regression test) sau khi fix lỗi', time: '11/09 - 15/09' }] },
                { task: 'Chốt và di chuyển dữ liệu (Data Migration)', date: '19/09 - 20/09/2025', status: 'todo', subtasks: [{ text: 'Làm sạch dữ liệu lần cuối (DM SVS)', time: '15/09 - 19/09' }, { text: 'Chạy EOD trên hệ thống Intellect', time: '19/09 21:00 - 22:00' }, { text: 'Thực hiện di chuyển dữ liệu sang Profile', time: '20/09 05:00 - 07:00' }, { text: 'Đối chiếu và xác thực dữ liệu (Checkpoint 1)', time: '20/09 07:00 - 09:00' }] },
                { task: 'Quyết định Go/No-Go', date: '20/09/2025', status: 'todo', subtasks: [{ text: 'Họp Ban chỉ đạo', time: '20/09 15:00 - 16:00' }, { text: 'Review tất cả các checkpoint (kỹ thuật, nghiệp vụ, dữ liệu)', time: '20/09 09:00 - 15:00' }, { text: 'Đưa ra quyết định cuối cùng', time: '20/09 16:00' }] },
                { task: 'Mở cửa chi nhánh với hệ thống mới', date: '22/09/2025', status: 'todo', subtasks: [{ text: 'Hỗ trợ tại chỗ (on-site support)', time: '22/09 - 26/09' }, { text: 'Giám sát hệ thống 24/7', time: '22/09 - 29/09' }, { text: 'Báo cáo cuối ngày đầu tiên', time: '22/09 17:00' }] },
            ],
            en: [
                { task: 'Complete System Pilot', date: 'Aug 13 - Aug 19, 2025', status: 'done', subtasks: [{ text: 'Enter 100% of transactions from Intellect to Profile', time: 'Aug 13 - Aug 19' }, { text: 'Profile system runs EOD successfully daily', time: 'Aug 13 - Aug 19' }, { text: 'Log and start fixing identified issues', time: 'Aug 13 - Aug 19' }, { text: 'Complete End User training', time: 'Aug 05 - Aug 12' }] },
                { task: 'DR1 & DR2 (Dress Rehearsal)', date: 'Aug 22 - Sep 06, 2025', status: 'inprogress', subtasks: [{ text: 'Prepare environment and data for DR1', time: 'Aug 19 - Aug 21' }, { text: 'Execute DR1 script (Core + 07 Apps)', time: 'Aug 22 - Aug 23' }, { text: 'Report DR1 results and fix issues', time: 'Aug 24 - Sep 04' }, { text: 'Execute DR2 script (Core + 11 Apps + CCS)', time: 'Sep 05 - Sep 06' }, { text: 'Report DR2 results', time: 'Sep 07 - Sep 08' }] },
                { task: 'DRP Drill (Disaster Recovery Plan)', date: 'Sep 12 - Sep 16, 2025', status: 'todo', subtasks: [{ text: 'Develop DRP training plan and materials', time: 'Aug 26 - Aug 29' }, { text: 'Conduct DRP training for Yangon branch', time: 'Sep 01 - Sep 05' }, { text: 'Execute DRP Drill 1', time: 'Sep 12 - Sep 13' }, { text: 'Execute DRP Drill 2', time: 'Sep 15 - Sep 16' }] },
                { task: 'Finalize Go-Live Playbook', date: 'Aug 20 - Aug 30, 2025', status: 'inprogress', subtasks: [{ text: 'Develop detailed hourly script', time: 'Aug 20 - Aug 25' }, { text: 'Assign personnel to tasks', time: 'Aug 26 - Aug 27' }, { text: 'Develop fallback plan', time: 'Aug 26 - Aug 28' }, { text: 'Approve and issue the playbook', time: 'Aug 29 - Aug 30' }] },
                { task: 'Fix All Critical Defects', date: 'Aug 19 - Sep 15, 2025', status: 'inprogress', subtasks: [{ text: 'Fix 06 critical TF defects', time: 'Aug 19 - Sep 10' }, { text: 'Fix 02 remaining integration app defects', time: 'Aug 19 - Sep 05' }, { text: 'Fix high/medium security vulnerabilities', time: 'Aug 19 - Sep 10' }, { text: 'Perform regression testing after fixes', time: 'Sep 11 - Sep 15' }] },
                { task: 'Finalize and Perform Data Migration', date: 'Sep 19 - Sep 20, 2025', status: 'todo', subtasks: [{ text: 'Final data cleansing (DM SVS)', time: 'Sep 15 - Sep 19' }, { text: 'Run EOD on Intellect system', time: 'Sep 19 21:00 - 22:00' }, { text: 'Migrate data to Profile', time: 'Sep 20 05:00 - 07:00' }, { text: 'Reconcile and validate data (Checkpoint 1)', time: 'Sep 20 07:00 - 09:00' }] },
                { task: 'Go/No-Go Decision', date: 'Sep 20, 2025', status: 'todo', subtasks: [{ text: 'Steering Committee meeting', time: 'Sep 20 15:00 - 16:00' }, { text: 'Review all checkpoints (technical, business, data)', time: 'Sep 20 09:00 - 15:00' }, { text: 'Make final decision', time: 'Sep 20 16:00' }] },
                { task: 'Branch Opening with New System', date: 'Sep 22, 2025', status: 'todo', subtasks: [{ text: 'On-site support', time: 'Sep 22 - Sep 26' }, { text: '24/7 system monitoring', time: 'Sep 22 - Sep 29' }, { text: 'First day EOD report', time: 'Sep 22 17:00' }] },
            ]
        };

        // --- STATE ---
        let currentLang = 'vi';
        let currentTab = 'tong-quan';

        // --- RENDER FUNCTIONS ---
        const renderFunctions = {
            'tong-quan': (lang) => {
                const c = content[lang];
                const timelineItems = c.timeline.map(item => {
                    let iconHtml = '';
                    switch (item.status) {
                        case 'done':
                            iconHtml = `<div class="z-10 flex items-center justify-center w-8 h-8 bg-green-500 rounded-full text-white">✓</div>`;
                            break;
                        case 'inprogress':
                            iconHtml = `<div class="z-10 flex items-center justify-center w-8 h-8 bg-blue-500 rounded-full ring-4 ring-white"><svg class="w-5 h-5 text-white animate-spin" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div>`;
                            break;
                        default:
                            iconHtml = `<div class="z-10 flex items-center justify-center w-8 h-8 bg-gray-400 rounded-full text-white">→</div>`;
                    }
                    return `
                        <div class="flex items-center">
                            ${iconHtml}
                            <div class="ml-4">
                                <h4 class="font-semibold ${item.status === 'todo' ? 'text-gray-600' : ''}">${item.title}</h4>
                                <p class="text-sm text-gray-500">${item.date}</p>
                            </div>
                        </div>`;
                }).join('');

                return `
                    <div id="content-tong-quan">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                            <div class="kpi-card bg-gray-50 p-5 rounded-xl">
                                <h3 class="font-semibold text-gray-600">${c.statusCardTitle}</h3>
                                <div class="flex items-center mt-2"><span class="status-green font-semibold py-1 px-3 rounded-full text-sm">${c.statusCardValue}</span></div>
                                <p class="text-xs text-gray-500 mt-2">${c.statusCardNote}</p>
                            </div>
                            <div class="kpi-card bg-gray-50 p-5 rounded-xl">
                                <h3 class="font-semibold text-gray-600">${c.scheduleCardTitle}</h3>
                                <div class="flex items-center mt-2"><span class="status-green font-semibold py-1 px-3 rounded-full text-sm">${c.scheduleCardValue}</span></div>
                                <p class="text-xs text-gray-500 mt-2">${c.scheduleCardNote}</p>
                            </div>
                            <div class="kpi-card bg-gray-50 p-5 rounded-xl">
                                <h3 class="font-semibold text-gray-600">${c.riskCardTitle}</h3>
                                <div class="flex items-center mt-2"><span class="status-amber font-semibold py-1 px-3 rounded-full text-sm">${c.riskCardValue}</span></div>
                                <p class="text-xs text-gray-500 mt-2">${c.riskCardNote}</p>
                            </div>
                            <div class="kpi-card bg-gray-50 p-5 rounded-xl">
                                <h3 class="font-semibold text-gray-600">${c.scopeCardTitle}</h3>
                                <div class="flex items-center mt-2"><span class="status-green font-semibold py-1 px-3 rounded-full text-sm">${c.scopeCardValue}</span></div>
                                <p class="text-xs text-gray-500 mt-2">${c.scopeCardNote}</p>
                            </div>
                        </div>
                        <div class="mt-8 bg-gray-50 p-5 rounded-xl">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">${c.timelineTitle}</h3>
                            <div class="relative">
                                <div class="absolute left-4 top-0 h-full w-0.5 bg-gray-300"></div>
                                <div class="space-y-8">${timelineItems}</div>
                            </div>
                        </div>
                    </div>`;
            },
            'core-banking': (lang) => {
                const c = content[lang];
                const apps = integrationAppsData[lang];
                const tableHeaders = c.integrationTableHeaders.map(h => `<th scope="col" class="px-6 py-3">${h}</th>`).join('');
                const tableRows = apps.map(app => `
                    <tr class="bg-white border-b hover:bg-gray-50">
                        <td class="px-6 py-4 font-medium text-gray-900">${app.name}</td>
                        <td class="px-6 py-4"><span class="status-green text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full">${app.status}</span></td>
                        <td class="px-6 py-4">
                            <div class="w-full bg-gray-200 rounded-full h-2.5"><div class="bg-blue-600 h-2.5 rounded-full" style="width: ${app.uat}%"></div></div>
                        </td>
                        <td class="px-6 py-4 text-gray-500">${app.note}</td>
                    </tr>`).join('');

                return `
                    <div id="content-core-banking">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                            <div class="kpi-card bg-blue-50 p-5 rounded-xl text-center">
                                <h3 class="font-semibold text-blue-800">${c.cbUatCasesTitle}</h3>
                                <p class="text-3xl font-bold text-blue-600 mt-2">5,196</p>
                                <div class="mt-3 flex justify-center space-x-4 text-sm"><span><span class="font-bold text-green-600">4,931</span> ${c.cbUatCasesPassed}</span><span><span class="font-bold text-red-600">189</span> ${c.cbUatCasesFailed}</span></div>
                            </div>
                            <div class="kpi-card bg-green-50 p-5 rounded-xl text-center">
                                <h3 class="font-semibold text-green-800">${c.cbDefectsTitle}</h3>
                                <p class="text-3xl font-bold text-green-600 mt-2">70</p>
                                <div class="mt-3 flex justify-center space-x-4 text-sm"><span><span class="font-bold">64</span> ${c.cbDefectsDone}</span><span><span class="font-bold text-amber-600">6</span> ${c.cbDefectsOpen}</span></div>
                            </div>
                            <div class="kpi-card bg-yellow-50 p-5 rounded-xl text-center">
                                <h3 class="font-semibold text-yellow-800">${c.cbConfigTitle}</h3>
                                <p class="text-3xl font-bold text-yellow-600 mt-2">99%</p>
                                <p class="text-sm text-yellow-700 mt-3">${c.cbConfigNote.replace('{val}', 907)}</p>
                            </div>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">${c.integrationTitle}</h3>
                        <div class="overflow-x-auto bg-gray-50 rounded-xl p-4">
                            <table class="w-full text-sm text-left text-gray-600">
                                <thead class="text-xs text-gray-700 uppercase bg-gray-100 rounded-lg"><tr>${tableHeaders}</tr></thead>
                                <tbody>${tableRows}</tbody>
                            </table>
                        </div>
                    </div>`;
            },
            'trade-finance': (lang) => {
                const c = content[lang];
                return `
                    <div id="content-trade-finance">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div class="kpi-card bg-indigo-50 p-5 rounded-xl"><h3 class="font-semibold text-indigo-800">${c.tfAnalysisTitle}</h3><p class="text-2xl font-bold text-indigo-600 mt-2">${c.tfAnalysisValue}</p><p class="text-sm text-indigo-700 mt-1">${c.tfAnalysisNote}</p></div>
                            <div class="kpi-card bg-sky-50 p-5 rounded-xl"><h3 class="font-semibold text-sky-800">${c.tfBuildTitle}</h3><p class="text-2xl font-bold text-sky-600 mt-2">${c.tfBuildValue}</p><p class="text-sm text-sky-700 mt-1">${c.tfBuildNote}</p></div>
                            <div class="kpi-card bg-red-50 p-5 rounded-xl"><h3 class="font-semibold text-red-800">${c.tfDefectsTitle}</h3><p class="text-2xl font-bold text-red-600 mt-2">${c.tfDefectsValue}</p><p class="text-sm text-red-700 mt-1">${c.tfDefectsNote}</p></div>
                        </div>
                    </div>`;
            },
            'quantum': (lang) => {
                const c = content[lang];
                return `
                    <div id="content-quantum">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div class="kpi-card bg-teal-50 p-5 rounded-xl"><h3 class="font-semibold text-teal-800">${c.qtDesignBookTitle}</h3><p class="text-2xl font-bold text-teal-600 mt-2">${c.qtDesignBookValue}</p><p class="text-sm text-teal-700 mt-1">${c.qtDesignBookNote}</p></div>
                            <div class="kpi-card bg-cyan-50 p-5 rounded-xl"><h3 class="font-semibold text-cyan-800">${c.qtBuildTitle}</h3><p class="text-2xl font-bold text-cyan-600 mt-2">${c.qtBuildValue}</p><p class="text-sm text-cyan-700 mt-1">${c.qtBuildNote}</p></div>
                            <div class="kpi-card bg-gray-100 p-5 rounded-xl"><h3 class="font-semibold text-gray-800">${c.qtSitUatTitle}</h3><p class="text-2xl font-bold text-gray-600 mt-2">${c.qtSitUatValue}</p><p class="text-sm text-gray-700 mt-1">${c.qtSitUatNote}</p></div>
                        </div>
                    </div>`;
            },
            'checklist': (lang) => {
                const c = content[lang];
                const checklistItems = goLiveChecklistData[lang];
                const statusConfig = {
                    done: { icon: '✓', color: 'green', text: c.status.done },
                    inprogress: { icon: '...', color: 'blue', text: c.status.inprogress },
                    todo: { icon: '○', color: 'gray', text: c.status.todo }
                };
                const itemsHtml = checklistItems.map(item => {
                    const config = statusConfig[item.status];
                    const subtasksHtml = item.subtasks.map(subtask => `
                        <li class="flex items-start">
                            <svg class="w-4 h-4 mr-2 mt-0.5 text-gray-400 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <div class="flex-grow"><span>${subtask.text}</span><span class="block text-xs text-gray-500">${subtask.time}</span></div>
                        </li>`).join('');

                    return `
                        <div class="bg-white rounded-lg border border-gray-200">
                            <button class="w-full flex items-center justify-between p-4 text-left hover:bg-gray-50 focus:outline-none" onclick="toggleChecklistSubtasks(this)">
                                <div class="flex items-center min-w-0"><div class="w-6 h-6 rounded-full bg-${config.color}-100 text-${config.color}-600 flex items-center justify-center font-bold text-sm mr-4 flex-shrink-0">${config.icon}</div>
                                    <div class="min-w-0"><p class="font-medium text-gray-800 truncate">${item.task}</p><p class="text-xs text-gray-500">${c.checklistDeadline}: ${item.date}</p></div>
                                </div>
                                <div class="flex items-center ml-2"><span class="hidden sm:inline-block text-xs font-semibold py-1 px-3 rounded-full bg-${config.color}-100 text-${config.color}-700 mr-4">${config.text}</span><svg class="w-5 h-5 text-gray-500 transform transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg></div>
                            </button>
                            <div class="subtask-container px-4 pb-4 pt-2 border-t border-gray-100"><ul class="space-y-2 text-sm text-gray-600">${subtasksHtml}</ul></div>
                        </div>`;
                }).join('');

                return `
                    <div id="content-checklist">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">${c.checklistTitle}</h3>
                        <div class="space-y-3">${itemsHtml}</div>
                    </div>`;
            }
        };

        // --- UI UPDATE & EVENT HANDLERS ---
        function updateUI() {
            // Update static text
            document.querySelectorAll('[data-key]').forEach(el => {
                const key = el.getAttribute('data-key');
                if (content[currentLang][key]) {
                    el.textContent = content[currentLang][key];
                }
            });

            // Update tab content
            const tabContentContainer = document.getElementById('tab-content');
            tabContentContainer.innerHTML = renderFunctions[currentTab](currentLang);
        }

        function changeTab(tabName) {
            currentTab = tabName;
            document.querySelectorAll('.tab-btn').forEach(button => {
                button.classList.toggle('tab-active', button.id === `tab-${tabName}`);
                button.classList.toggle('tab-inactive', button.id !== `tab-${tabName}`);
            });
            updateUI();
        }

        function changeLanguage(lang) {
            currentLang = lang;
            const viBtn = document.getElementById('lang-vi');
            const enBtn = document.getElementById('lang-en');
            
            viBtn.classList.toggle('bg-white', lang === 'vi');
            viBtn.classList.toggle('text-blue-600', lang === 'vi');
            viBtn.classList.toggle('shadow', lang === 'vi');
            viBtn.classList.toggle('text-gray-500', lang !== 'vi');

            enBtn.classList.toggle('bg-white', lang === 'en');
            enBtn.classList.toggle('text-blue-600', lang === 'en');
            enBtn.classList.toggle('shadow', lang === 'en');
            enBtn.classList.toggle('text-gray-500', lang !== 'en');
            
            document.documentElement.lang = lang;
            updateUI();
        }

        function toggleChecklistSubtasks(buttonElement) {
            const subtasksDiv = buttonElement.nextElementSibling;
            const icon = buttonElement.querySelector('svg');
            subtasksDiv.classList.toggle('expanded');
            icon.classList.toggle('rotate-180');
        }

        // --- INITIAL LOAD ---
        document.addEventListener('DOMContentLoaded', () => {
            updateUI();
        });
    </script>
</body>
</html>
